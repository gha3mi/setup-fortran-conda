\chapter{Setup Fortran with Conda}
\hypertarget{md_README}{}\label{md_README}\index{Setup Fortran with Conda@{Setup Fortran with Conda}}
\label{md_README_autotoc_md5}%
\Hypertarget{md_README_autotoc_md5}%


A Git\+Hub Action that sets up a Fortran development environment using Conda. Inspired by \href{https://degenerateconic.com/conda-plus-fortran.html}{\texttt{ Conda + Fortran}}.\hypertarget{md_README_autotoc_md6}{}\doxysection{\texorpdfstring{üìã Workflow Example}{üìã Workflow Example}}\label{md_README_autotoc_md6}
\hypertarget{md_README_autotoc_md7}{}\doxysubsection{\texorpdfstring{üîê IMPORTANT NOTES}{üîê IMPORTANT NOTES}}\label{md_README_autotoc_md7}
\begin{quote}
‚ö†Ô∏è {\bfseries{Use your own name and email!}} Don‚Äôt copy the example values. \end{quote}


To enable automatic updates to the CI status table in {\ttfamily README.\+md} via the {\ttfamily update\+\_\+readme\+\_\+table} job\+:


\begin{DoxyEnumerate}
\item Create a Git\+Hub {\bfseries{Personal Access Token (PAT)}} with {\ttfamily repo} scope.
\item Add it to your repo secrets, e.\+g. {\ttfamily GH\+\_\+\+PAT}.
\item Configure these inputs\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{update-\/readme-\/token:\ \$\{\{\ secrets.GH\_PAT\ \}\}}
\DoxyCodeLine{update-\/readme-\/user-\/name:\ "{}Your\ Name"{}}
\DoxyCodeLine{update-\/readme-\/user-\/email:\ "{}you@example.com"{}}

\end{DoxyCode}


üí° Tip\+: When integrating CI/\+CD, testing often requires multiple commits and iterations. To keep your {\ttfamily main} branch clean, consider using a separate branch (e.\+g., {\ttfamily dev}) for development and testing. Once everything is working, you can merge it into main.

You can include only the jobs you need in your workflow. This example includes all available jobs to demonstrate a comprehensive CI/\+CD setup.\hypertarget{md_README_autotoc_md8}{}\doxysubsection{\texorpdfstring{Overview}{Overview}}\label{md_README_autotoc_md8}
This example automates Fortran CI/\+CD\+:


\begin{DoxyItemize}
\item üì¶ {\bfseries{Fortran compiler setup}}\+:
\begin{DoxyItemize}
\item Supports\+: {\ttfamily gfortran}, {\ttfamily ifx}, {\ttfamily lfortran}, {\ttfamily flang-\/new}, {\ttfamily nvfortran}
\end{DoxyItemize}
\item üñ•Ô∏è {\bfseries{Cross-\/platform testing}}\+:
\begin{DoxyItemize}
\item Ubuntu, Windows, mac\+OS Git\+Hub runners
\end{DoxyItemize}
\item üß™ {\bfseries{Testing}}\+:
\begin{DoxyItemize}
\item {\ttfamily fpm} test with {\ttfamily debug} and {\ttfamily release} profiles
\item {\ttfamily CMake} with {\ttfamily Ninja} and {\ttfamily CTest}
\end{DoxyItemize}
\item üìÑ {\bfseries{Documentation}}\+:
\begin{DoxyItemize}
\item \href{https://github.com/Fortran-FOSS-Programmers/ford}{\texttt{ FORD}}
\item \href{https://www.doxygen.nl}{\texttt{ Doxygen}}
\end{DoxyItemize}
\item üìä {\bfseries{Status Reporting}}\+:
\begin{DoxyItemize}
\item Auto-\/generates {\ttfamily STATUS.\+md} for {\ttfamily fpm}/{\ttfamily cmake} test results
\item Injects summary into {\ttfamily README.\+md}
\item creates PRs to update the status table in {\ttfamily README.\+md}
\end{DoxyItemize}
\item üßπ {\bfseries{Linting}}\+:
\begin{DoxyItemize}
\item Runs Fortitude check
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_README_autotoc_md9}{}\doxysubsection{\texorpdfstring{README Integration}{README Integration}}\label{md_README_autotoc_md9}
To enable automatic CI status table injection, add the following to your {\ttfamily README.\+md}\+:


\begin{DoxyPre}
<!-\/-\/ STATUS:setup-\/fortran-\/conda:START -\/-\/>
<!-\/-\/ STATUS:setup-\/fortran-\/conda:END -\/-\/>
\end{DoxyPre}
\hypertarget{md_README_autotoc_md10}{}\doxysubsection{\texorpdfstring{Job Breakdown}{Job Breakdown}}\label{md_README_autotoc_md10}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Job Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Job Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily test\+\_\+fpm}   &Run {\ttfamily fpm} tests (debug + release) for each OS/compiler    \\\cline{1-2}
{\ttfamily test\+\_\+cmake}   &Run CMake/\+Ninja builds and tests    \\\cline{1-2}
{\ttfamily doc\+\_\+ford}   &Build and deploy FORD-\/generated docs    \\\cline{1-2}
{\ttfamily doc\+\_\+doxygen}   &Build and deploy Doxygen-\/generated docs    \\\cline{1-2}
{\ttfamily status\+\_\+fpm}   &Generate {\ttfamily STATUS.\+md} with fpm test results    \\\cline{1-2}
{\ttfamily status\+\_\+cmake}   &Generate {\ttfamily STATUS.\+md} with cmake test results    \\\cline{1-2}
{\ttfamily update\+\_\+readme\+\_\+table}   &Inject CI summary table into {\ttfamily README.\+md} and open a pull request    \\\cline{1-2}
{\ttfamily linter\+\_\+fortitude}   &Run \href{https://github.com/PlasmaFAIR/fortitude}{\texttt{ Fortitude}} linter   \\\cline{1-2}
\end{longtabu}


modify this example workflow file to your needs, and save it as {\ttfamily .github/workflows/\+CI-\/\+CD.\+yml} in your repository\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{name:\ Setup\ Fortran\ Conda\ CI/CD}
\DoxyCodeLine{}
\DoxyCodeLine{on:}
\DoxyCodeLine{\ \ push:}
\DoxyCodeLine{\ \ \ \ branches:\ [main,\ master,\ dev]}
\DoxyCodeLine{\ \ pull\_request:}
\DoxyCodeLine{\ \ \ \ branches:\ [main,\ master]}
\DoxyCodeLine{}
\DoxyCodeLine{permissions:}
\DoxyCodeLine{\ \ contents:\ write}
\DoxyCodeLine{\ \ pull-\/requests:\ write}
\DoxyCodeLine{}
\DoxyCodeLine{jobs:}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Run\ FPM\ tests\ (debug\ +\ release)\ on\ all\ OS/compiler\ combinations}
\DoxyCodeLine{\ \ test\_fpm:}
\DoxyCodeLine{\ \ \ \ name:\ \$\{\{\ matrix.os\ \}\}\_\$\{\{\ matrix.compiler\ \}\}\_fpm}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ strategy:}
\DoxyCodeLine{\ \ \ \ \ \ fail-\/fast:\ false}
\DoxyCodeLine{\ \ \ \ \ \ matrix:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ os:\ [ubuntu-\/latest,\ macos-\/latest,\ windows-\/latest]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ compiler:\ [gfortran,\ ifx,\ lfortran,\ flang-\/new,\ nvfortran]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ include:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ windows-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ exclude:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ flang-\/new}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ ifx}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ nvfortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ windows-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ nvfortran}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Setup\ Fortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ compiler:\ \$\{\{\ matrix.compiler\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ platform:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ extra-\/packages:\ \$\{\{\ matrix.extra-\/packages\ \}\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ fpm\ test\ (debug)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ run:\ fpm\ test\ -\/-\/compiler\ \$\{\{\ matrix.compiler\ \}\}\ -\/-\/profile\ debug\ -\/-\/verbose}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ fpm\ test\ (release)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ run:\ fpm\ test\ -\/-\/compiler\ \$\{\{\ matrix.compiler\ \}\}\ -\/-\/profile\ release\ -\/-\/verbose}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Run\ CMake\ +\ Ninja\ build/tests\ across\ OS/compiler\ matrix}
\DoxyCodeLine{\ \ test\_cmake:}
\DoxyCodeLine{\ \ \ \ name:\ \$\{\{\ matrix.os\ \}\}\_\$\{\{\ matrix.compiler\ \}\}\_cmake}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ strategy:}
\DoxyCodeLine{\ \ \ \ \ \ fail-\/fast:\ false}
\DoxyCodeLine{\ \ \ \ \ \ matrix:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ os:\ [ubuntu-\/latest,\ macos-\/latest,\ windows-\/latest]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ compiler:\ [gfortran,\ ifx,\ lfortran,\ flang-\/new,\ nvfortran]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ include:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ windows-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ exclude:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ flang-\/new}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ ifx}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ nvfortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ -\/\ os:\ windows-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ compiler:\ nvfortran}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Setup\ Fortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ compiler:\ \$\{\{\ matrix.compiler\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ platform:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ extra-\/packages:\ \$\{\{\ matrix.extra-\/packages\ \}\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ cmake\ test\ (debug)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ run:\ |}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ cmake\ -\/S\ .\ -\/B\ build/debug\ -\/DCMAKE\_BUILD\_TYPE=Debug\ -\/DCMAKE\_Fortran\_COMPILER=\$\{\{\ matrix.compiler\ \}\}\ -\/G\ Ninja}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ cmake\ -\/-\/build\ build/debug}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ctest\ -\/-\/test-\/dir\ build/debug\ -\/-\/output-\/on-\/failure}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ cmake\ test\ (release)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ run:\ |}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ cmake\ -\/S\ .\ -\/B\ build/release\ -\/DCMAKE\_BUILD\_TYPE=Release\ -\/DCMAKE\_Fortran\_COMPILER=\$\{\{\ matrix.compiler\ \}\}\ -\/G\ Ninja}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ cmake\ -\/-\/build\ build/release}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ctest\ -\/-\/test-\/dir\ build/release\ -\/-\/output-\/on-\/failure}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Build\ and\ deploy\ FORD\ documentation}
\DoxyCodeLine{\ \ doc\_ford:}
\DoxyCodeLine{\ \ \ \ name:\ Generate\ FORD\ Documentation}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Setup\ and\ Generate\ FORD\ Documentation}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ compiler:\ gfortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ generate-\/doc-\/ford:\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ford-\/working-\/directory:\ .}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ford-\/config:\ README.md}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ford-\/output-\/directory:\ doc/ford}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ford-\/branch:\ gh-\/pages-\/ford}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ford-\/target-\/folder:\ doc/ford}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Build\ and\ deploy\ Doxygen\ documentation}
\DoxyCodeLine{\ \ doc\_doxygen:}
\DoxyCodeLine{\ \ \ \ name:\ Generate\ Doxygen\ Documentation}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Setup\ and\ Generate\ Doxygen\ Documentation}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ compiler:\ gfortran}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ generate-\/doc-\/doxygen:\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ doxygen-\/working-\/directory:\ .}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ doxygen-\/config:\ Doxyfile}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ doxygen-\/output-\/directory:\ doc/doxygen}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ doxygen-\/branch:\ gh-\/pages-\/doxygen}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ doxygen-\/target-\/folder:\ doc/doxygen}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Generate\ STATUS.md\ from\ FPM\ job\ results}
\DoxyCodeLine{\ \ status\_fpm:}
\DoxyCodeLine{\ \ \ \ name:\ Generate\ STATUS.md}
\DoxyCodeLine{\ \ \ \ if:\ always()}
\DoxyCodeLine{\ \ \ \ needs:\ test\_fpm}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Generate\ summary}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ generate-\/status-\/fpm:\ true}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Generate\ STATUS.md\ from\ CMake\ job\ results}
\DoxyCodeLine{\ \ status\_cmake:}
\DoxyCodeLine{\ \ \ \ name:\ Generate\ STATUS.md}
\DoxyCodeLine{\ \ \ \ if:\ always()}
\DoxyCodeLine{\ \ \ \ needs:\ test\_cmake}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Generate\ summary}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ generate-\/status-\/cmake:\ true}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Inject\ CI\ status\ table\ into\ README.md}
\DoxyCodeLine{\ \ update\_readme\_table:}
\DoxyCodeLine{\ \ \ \ name:\ Update\ README.md\ status\ table}
\DoxyCodeLine{\ \ \ \ if:\ |}
\DoxyCodeLine{\ \ \ \ \ \ always()\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ github.ref\ !=\ 'refs/heads/update-\/readme-\/table'}
\DoxyCodeLine{\ \ \ \ needs:\ [status\_fpm,\ status\_cmake]}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Update\ README\ status}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ update-\/readme-\/table:\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ update-\/readme-\/token:\ \$\{\{\ secrets.GH\_PAT\ \}\}\ \ \ \#\ Update\ with\ your\ GitHub\ personal\ access\ token}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ update-\/readme-\/user-\/name:\ "{}Your\ Name"{}\ \#\ Update\ with\ your\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ update-\/readme-\/user-\/email:\ "{}you@example.com"{}\ \ \#\ Update\ with\ your\ email}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Run\ Fortran\ linter\ with\ Fortitude}
\DoxyCodeLine{\ \ linter\_fortitude:}
\DoxyCodeLine{\ \ \ \ name:\ Run\ Fortitude\ Linter}
\DoxyCodeLine{\ \ \ \ runs-\/on:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ steps:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ name:\ Run\ Fortitude\ Linter}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ fortitude-\/check:\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ fortitude-\/settings:\ "{}-\/-\/output-\/format\ github"{}}

\end{DoxyCode}
 \hypertarget{md_README_autotoc_md11}{}\doxysubsection{\texorpdfstring{Specifying Compiler Versions}{Specifying Compiler Versions}}\label{md_README_autotoc_md11}
By default, the above example installs the latest available versions of each compiler. To use a specific version, add a {\ttfamily compiler-\/version} entry in your matrix\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{matrix:}
\DoxyCodeLine{\ \ \#\ os:\ [ubuntu-\/latest,\ macos-\/latest,\ windows-\/latest]}
\DoxyCodeLine{\ \ \#\ compiler:\ [gfortran,\ ifx,\ lfortran,\ flang-\/new,\ nvfortran]}
\DoxyCodeLine{\ \ include:}
\DoxyCodeLine{\ \ \ \ \#\ gfortran}
\DoxyCodeLine{\ \ \ \ -\/\ os:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ compiler:\ gfortran}
\DoxyCodeLine{\ \ \ \ \ \ compiler-\/version:\ 15.1.0}
\DoxyCodeLine{\ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}
\DoxyCodeLine{\ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ compiler:\ gfortran}
\DoxyCodeLine{\ \ \ \ \ \ compiler-\/version:\ 15.1.0}
\DoxyCodeLine{\ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}
\DoxyCodeLine{\ \ \ \ -\/\ os:\ windows-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ compiler:\ gfortran}
\DoxyCodeLine{\ \ \ \ \ \ compiler-\/version:\ 15.1.0}
\DoxyCodeLine{\ \ \ \ \ \ extra-\/packages:\ "{}cmake,\ ninja"{}}

\end{DoxyCode}
 Then, reference {\ttfamily compiler-\/version} in the setup step\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{-\/\ name:\ Setup\ Fortran}
\DoxyCodeLine{\ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ with:}
\DoxyCodeLine{\ \ \ \ compiler:\ \$\{\{\ matrix.compiler\ \}\}}
\DoxyCodeLine{\ \ \ \ compiler-\/version:\ \$\{\{\ matrix.compiler-\/version\ \}\}\ \#\ must\ be\ specified}
\DoxyCodeLine{\ \ \ \ platform:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ extra-\/packages:\ \$\{\{\ matrix.extra-\/packages\ \}\}}

\end{DoxyCode}
 If {\ttfamily compiler-\/version} is set to an empty string {\ttfamily "{}"{}}, the latest version will be installed.\hypertarget{md_README_autotoc_md12}{}\doxysubsection{\texorpdfstring{MPI Support}{MPI Support}}\label{md_README_autotoc_md12}
MPI-\/based tests can be executed using fpm with the mpifort. This is currently supported on Linux and mac\+OS runners. The following example job sets up the environment and runs parallel MPI tests\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{test\_mpi\_fpm:}
\DoxyCodeLine{\ \ name:\ \$\{\{\ matrix.os\ \}\}\_\$\{\{\ matrix.compiler\ \}\}\_mpi\_fpm}
\DoxyCodeLine{\ \ runs-\/on:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ strategy:}
\DoxyCodeLine{\ \ \ \ fail-\/fast:\ false}
\DoxyCodeLine{\ \ \ \ matrix:}
\DoxyCodeLine{\ \ \ \ \ \ os:\ [ubuntu-\/latest,\ macos-\/latest]}
\DoxyCodeLine{\ \ \ \ \ \ compiler:\ [mpifort]}
\DoxyCodeLine{\ \ \ \ \ \ include:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\ os:\ ubuntu-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\ os:\ macos-\/latest}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ extra-\/packages:\ "{}"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ steps:}
\DoxyCodeLine{\ \ \ \ -\/\ name:\ Setup\ Fortran}
\DoxyCodeLine{\ \ \ \ \ \ uses:\ gha3mi/setup-\/fortran-\/conda@latest}
\DoxyCodeLine{\ \ \ \ \ \ with:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ compiler:\ \$\{\{\ matrix.compiler\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ platform:\ \$\{\{\ matrix.os\ \}\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ extra-\/packages:\ \$\{\{\ matrix.extra-\/packages\ \}\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ -\/\ name:\ fpm\ test\ (debug)}
\DoxyCodeLine{\ \ \ \ \ \ run:\ fpm\ test\ -\/-\/target\ mpi\_hello\ -\/-\/compiler\ \$\{\{\ matrix.compiler\ \}\}\ -\/-\/profile\ debug\ -\/-\/flag\ "{}-\/cpp\ -\/DUSE\_MPI"{}\ -\/-\/runner\ "{}mpirun\ -\/np\ 4"{}\ -\/-\/verbose}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ -\/\ name:\ fpm\ test\ (release)}
\DoxyCodeLine{\ \ \ \ \ \ run:\ fpm\ test\ -\/-\/target\ mpi\_hello\ -\/-\/compiler\ \$\{\{\ matrix.compiler\ \}\}\ -\/-\/profile\ release\ -\/-\/flag\ "{}-\/cpp\ -\/DUSE\_MPI"{}\ -\/-\/runner\ "{}mpirun\ -\/np\ 4"{}\ -\/-\/verbose}

\end{DoxyCode}
\hypertarget{md_README_autotoc_md13}{}\doxysection{\texorpdfstring{‚úÖ Status}{‚úÖ Status}}\label{md_README_autotoc_md13}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Compiler   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ macos   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ubuntu   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ windows    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Compiler   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ macos   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ubuntu   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ windows    }\\\cline{1-4}
\endhead
{\ttfamily flang-\/new}   &-\/   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚ùå cmake ‚úÖ    \\\cline{1-4}
{\ttfamily gfortran}   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚úÖ cmake ‚úÖ    \\\cline{1-4}
{\ttfamily ifx}   &-\/   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚úÖ cmake ‚úÖ    \\\cline{1-4}
{\ttfamily lfortran}   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚úÖ cmake ‚úÖ   &fpm ‚úÖ cmake ‚úÖ    \\\cline{1-4}
{\ttfamily mpifort}   &mpi\+\_\+fpm ‚úÖ   &mpi\+\_\+fpm ‚úÖ   &-\/    \\\cline{1-4}
{\ttfamily nvfortran}   &-\/   &fpm ‚úÖ cmake ‚úÖ   &-\/   \\\cline{1-4}
\end{longtabu}



\begin{DoxyItemize}
\item \href{https://github.com/gha3mi/setup-fortran-conda/blob/status-fpm/STATUS.md}{\texttt{ STATUS.\+md (FPM)}}
\item \href{https://github.com/gha3mi/setup-fortran-conda/blob/status-cmake/STATUS.md}{\texttt{ STATUS.\+md (CMake)}}
\end{DoxyItemize}\hypertarget{md_README_autotoc_md14}{}\doxysection{\texorpdfstring{üîó See Also}{üîó See Also}}\label{md_README_autotoc_md14}

\begin{DoxyItemize}
\item \href{https://github.com/fortran-lang/setup-fortran}{\texttt{ fortran-\/lang/setup-\/fortran}}
\item \href{https://degenerateconic.com/conda-plus-fortran.html}{\texttt{ https\+://degenerateconic.\+com/conda-\/plus-\/fortran.\+html}}
\item \href{https://fortran-lang.discourse.group/t/github-action-setup-fortran-with-conda/9869/17}{\texttt{ Fortran Discourse\+: Git\+Hub Action\+: Setup Fortran with Conda}}
\item \href{https://fortran-lang.discourse.group/t/very-simple-ci-workflow-for-fortran-apps-using-conda/9867}{\texttt{ Fortran Discourse\+: Simple CI with Conda}} 
\end{DoxyItemize}